<app-overlay-container uri="/mappy-overlay">
  <ng-container *ngIf="display$ | async as display">
    <div *ngIf="display.mapId; else noMap" class="mappy-overlay-container">
      <img [src]="display.map.image" alt="" class="map-background" [style.transform]="imageTransform()" (wheel)="onScroll($event)" (pan)="onPan($event)">
      <div class="layer" [style.transform]="imageTransform()">
        <img src="./assets/icons/mappy/player.png"
             alt="You"
             class="marker"
             [style.width.px]="playerMarkerSize.x"
             [style.height.px]="playerMarkerSize.y"
             [style.margin-left.px]="-playerMarkerSize.x/2"
             [style.margin-top.px]="-playerMarkerSize.y/2"
             [style.top.%]="display.player.y"
             [style.left.%]="display.player.x">
      </div>
    </div>
    <!--    <app-map [mapId]="display.mapId" [markers]="[display.mapStyle.raw]"></app-map>-->
    <ng-template #noMap>
      <app-fullpage-message>
        {{'MAPPY_OVERLAY.ERRORS.No_map' | translate}}
      </app-fullpage-message>
    </ng-template>
  </ng-container>
</app-overlay-container>
